{"ast":null,"code":"import _regeneratorRuntime from\"E:/ReactJs/todoist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/ReactJs/todoist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/ReactJs/todoist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import*as CryptoJS from'crypto-js';import\"../style/app.css\";import{RiLockPasswordLine,RiUserLine}from\"react-icons/ri\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var button=false;var User=function User(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],updateemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],updatepassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],seterror=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),friendList=_useState8[0],setfriendList=_useState8[1];var history=useHistory();useEffect(function(){button=false;var userFun=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responce,responseData,userList,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://todo-list-64f41-default-rtdb.firebaseio.com/User.json\");case 2:responce=_context.sent;_context.next=5;return responce.json();case 5:responseData=_context.sent;userList=[];for(key in responseData){userList.push({id:key,email:String(responseData[key].email),password:String(responseData[key].password)});}setfriendList(userList);case 9:case\"end\":return _context.stop();}}},_callee);}));return function userFun(){return _ref.apply(this,arguments);};}();userFun();},[]);function getValue1(event){updateemail(event.target.value);seterror(null);}function getValue2(event){updatepassword(event.target.value);seterror(null);}function handle(e){e.preventDefault();friendList.map(function(friend){var decrypted=CryptoJS.AES.decrypt(friend.password,\"Secret Passphrase\");if(friend.email===email&&decrypted.toString(CryptoJS.enc.Utf8)===password){button=true;history.push(\"/todoist/status\");window.localStorage.setItem(\"Info\",JSON.stringify(friend));}return null;});if(!button){seterror(\"Wrong User Id and Password\");}}return/*#__PURE__*/_jsx(\"div\",{className:\"Loginmain\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handle,children:[/*#__PURE__*/_jsx(\"div\",{className:\"con\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"head-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{children:\"login here using your Email Id and password\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-set\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-item\",children:/*#__PURE__*/_jsx(\"i\",{style:{marginLeft:\"15px\"},children:/*#__PURE__*/_jsx(RiUserLine,{})})}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",id:\"txt-input\",type:\"email\",placeholder:\"@Useremail\",value:email,onChange:getValue1,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"input-item\",children:/*#__PURE__*/_jsx(\"i\",{style:{marginLeft:\"15px\"},children:/*#__PURE__*/_jsx(RiLockPasswordLine,{})})}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Password\",id:\"pwd\",name:\"password\",value:password,onChange:getValue2,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"log-in\",type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"other\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn submits sign-up log-in\",onClick:function onClick(){history.push(\"/todoist/register\");},children:\"Register\"})}),button?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{className:\"Errorkdiv\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"Errorheading\",children:error})})]})})});};export default User;","map":{"version":3,"sources":["E:/ReactJs/todoist/src/component/Login/Login.tsx"],"names":["React","useEffect","useState","useHistory","CryptoJS","RiLockPasswordLine","RiUserLine","button","User","email","updateemail","password","updatepassword","error","seterror","friendList","setfriendList","history","userFun","fetch","responce","json","responseData","userList","key","push","id","String","getValue1","event","target","value","getValue2","handle","e","preventDefault","map","friend","decrypted","AES","decrypt","toString","enc","Utf8","window","localStorage","setItem","JSON","stringify","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as CryptoJS from 'crypto-js';\r\nimport \"../style/app.css\";\r\nimport { RiLockPasswordLine, RiUserLine } from \"react-icons/ri\";\r\nvar button = false;\r\nconst User = () => {\r\n  const [email, updateemail] = useState<string>(\"\");\r\n  const [password, updatepassword] = useState<string>(\"\");\r\n  const [error, seterror] = useState<String | null>(null);\r\n  const [friendList, setfriendList] = useState<any[]>([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    button = false;\r\n    const userFun = async () => {\r\n      const responce = await fetch(\r\n        \"https://todo-list-64f41-default-rtdb.firebaseio.com/User.json\"\r\n      );\r\n      const responseData = await responce.json();\r\n      const userList = [];\r\n\r\n      for (const key in responseData) {\r\n        userList.push({\r\n          id: key,\r\n          email: String(responseData[key].email),\r\n          password: String(responseData[key].password),\r\n        });\r\n      }\r\n      setfriendList(userList);\r\n\r\n    };\r\n    userFun();\r\n  }, []);\r\n\r\n  function getValue1(event: any) {\r\n    updateemail(event.target.value);\r\n    seterror(null);\r\n  }\r\n  function getValue2(event: any) {\r\n    updatepassword(event.target.value);\r\n    seterror(null);\r\n  }\r\n\r\n  function handle(e: any) {\r\n    e.preventDefault();\r\n    friendList.map((friend) => {\r\n      var decrypted = CryptoJS.AES.decrypt(friend.password, \"Secret Passphrase\");\r\n      if (friend.email === email && decrypted.toString(CryptoJS.enc.Utf8) === password) {\r\n        button = true;\r\n        history.push(\"/todoist/status\");\r\n        window.localStorage.setItem(\"Info\", JSON.stringify(friend));\r\n      }\r\n      return null;\r\n    });\r\n    if (!button) {\r\n      seterror(\"Wrong User Id and Password\");\r\n    }\r\n  }\r\n  return (\r\n  <div className=\"Loginmain\">\r\n    <div className=\"overlay\">\r\n      <form onSubmit={handle}>\r\n          <div className=\"con\">\r\n            <header className=\"head-form\">\r\n              <h2>Log In</h2>\r\n              <p>login here using your Email Id and password</p>\r\n            </header>\r\n          </div>\r\n          <div className=\"field-set\">\r\n            <span className=\"input-item\">\r\n            <i style={{marginLeft:\"15px\"}}><RiUserLine/></i>\r\n            </span>\r\n            <input\r\n              className=\"form-input\"\r\n              id=\"txt-input\"\r\n              type=\"email\" placeholder=\"@Useremail\"\r\n              value={email}\r\n              onChange={getValue1}\r\n              required\r\n            />\r\n\r\n            <br />\r\n            <span className=\"input-item\" >\r\n            <i style={{marginLeft:\"15px\"}}><RiLockPasswordLine/></i>\r\n            </span>\r\n            <input\r\n              className=\"form-input\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              id=\"pwd\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={getValue2}\r\n              required\r\n            />\r\n            <br />\r\n\r\n            <button className=\"log-in\" type=\"submit\">\r\n              Login\r\n            </button>\r\n          </div>\r\n            <div className=\"other\">\r\n              <button className=\"btn submits sign-up log-in\" onClick={()=>{history.push(\"/todoist/register\")}}>\r\n                  Register\r\n              </button>\r\n            </div>\r\n            {button ? (\r\n              <div></div>\r\n            ) : (\r\n              <div className=\"Errorkdiv\">\r\n                <h2 className=\"Errorheading\">{error}</h2>\r\n              </div>\r\n            )}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}